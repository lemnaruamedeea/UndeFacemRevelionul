@{
    ViewData["Title"] = "Provider Dashboard";
    var locations = ViewBag.Locations as List<UndeFacemRevelionul.Models.LocationModel>;
    var menus = ViewBag.Menus as List<UndeFacemRevelionul.Models.FoodMenuModel>;
}

<h1>Welcome to your Provider Dashboard</h1>

<!-- Buton pentru Adăugarea Locației -->
<div>
    <a href="@Url.Action("AddLocation", "Provider", new { providerId = ViewBag.ProviderId })" class="btn btn-primary mb-3">Add New Location</a>
</div>

<h2>Your Locations</h2>
@if (locations != null && locations.Count > 0)
{
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Address</th>
                <th>Price</th>
                <th>Capacity</th>
                <th>Description</th>
                <th>Rating</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var location in locations)
            {
                <tr>
                    <td>@location.Name</td>
                    <td>@location.Address</td>
                    <td>@location.Price</td>
                    <td>@location.Capacity</td>
                    <td>@location.Description</td>
                    <td>@location.Rating</td>
                    <td>@location.Date.ToString("dd/MM/yyyy")</td>
                    <td>
                        <!-- Butoane Edit și Delete -->
                        <a href="@Url.Action("EditLocation", "Provider", new { id = location.Id })" class="btn btn-sm btn-warning">Edit</a>
                        <form method="post" action="@Url.Action("DeleteLocation", "Provider", new { id = location.Id })" style="display:inline;">
                            <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this location?');">Delete</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>You have no locations listed.</p>
}

<!-- Buton pentru Adăugarea Meniului -->
<div>
    <a href="@Url.Action("AddMenu", "Provider", new { providerId = ViewBag.ProviderId })" class="btn btn-primary mb-3">Add New Menu</a>
</div>

<h2>Your Menus</h2>
@if (menus != null && menus.Count > 0)
{
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Name</th>
                <th>Description</th>
                <th>Price</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var menu in menus)
            {
                <tr>
                    <td>@menu.Name</td>
                    <td>@menu.Description</td>
                    <td>@menu.Price</td>
                    <td>
                        <!-- Butoane Edit și Delete -->
                        <a href="@Url.Action("EditMenu", "Provider", new { id = menu.Id })" class="btn btn-sm btn-warning">Edit</a>
                        <form method="post" action="@Url.Action("DeleteMenu", "Provider", new { id = menu.Id })" style="display:inline;">
                            <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this menu?');">Delete</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}
else
{
    <p>You have no menus listed.</p>
}
